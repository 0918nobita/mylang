# 実装に関するドキュメント

## Lexer

```rust
fn lex<T: BufRead>(src: T) -> impl Iterator<Item = LexResult>
```

- エラー復帰機能がほしい。
- 先読みを可能にするために、キャッシュ機能付きのイテレータを実装する必要がある。
- ある「状態」を前提として、その「文脈」をもとに順次受け取った文字を字句解析して遷移後の状態と(あれば)生成されたトークンを返すものを `LexRead` と呼ぶ。
    - この機能群を `LexRead` trait として表現する。
- 複数の `LexRead` を管理し、それぞれに適切なタイミングでトークンを生成させ、イテレータとして順次流すものを `LexSystem` と呼ぶ。

## Parser

まだ手つかず
